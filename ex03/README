이 연습에서는 조각 함정과 스캐브 함정이 절반씩 섞인 박수 함정이라는 몬스터를 만들 것입니다. 이 괴물의 이름은 DiamondTrap이며, FragTrap과 ScavTrap을 모두 상속받게 됩니다. 이것은 매우 위험합니다! DiamondTrap 클래스에는 이름 비공개 속성이 있습니다. 이 속성에 로봇의 이름과 정확히 동일한 변수 이름(여기서는 로봇의 이름을 말하는 것이 아닙니다)을 ClapTrap 베이스 클래스에 있는 것과 똑같이 지정하세요. 더 명확하게 설명하기 위해 두 가지 예를 들어보겠습니다.
클랩트랩의 변수가 이름이라면, 그 이름을 다이아몬드트랩의 이름에 부여합니다.
ClapTrap의 변수가 _name이면 DiamondTrap 중 하나에 _name이라는 이름을 부여합니다.
그 속성과 멤버 함수는 부모 클래스 중 하나에서 선택됩니다:
- 생성자에 매개변수로 전달되는 이름, 생성자에 전달되는 이름
- ClapTrap::name(생성자의 매개변수 + “_clap_name” 접미사)
- 히트 포인트 (FragTrap)
- 에너지 포인트(ScavTrap)
- 공격 피해 (FragTrap)
- 공격() (스캐브트랩)
다이아몬드트랩은 부모 클래스의 특수 함수에 더해 자체 특수 능력을 갖습니다:
void whoAmI();
이 멤버 함수는 그 이름과 ClapTrap 이름을 모두 표시합니다.
물론 DiamondTrap의 ClapTrap 서브 객체는 한 번만 생성됩니다. 예, 트릭이 있습니다. 다시 한 번 프로그램에 테스트를 더 추가해 보세요.
